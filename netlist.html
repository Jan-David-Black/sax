---

title: Netlist


keywords: fastai
sidebar: home_sidebar

summary: "SAX Netlist"
description: "SAX Netlist"
nb_path: "nbs/06_netlist.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/06_netlist.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="netlist" class="doc_header"><code>netlist</code><a href="https://github.com/flaport/sax/tree/master/sax/netlist.py#L351" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>netlist</code>(<strong><code>instances</code></strong>:<a href="/sax/typing.html#Instances"><code>Instances</code></a>, <strong><code>connections</code></strong>:<code>Dict[str, str]</code>, <strong><code>ports</code></strong>:<code>Dict[str, str]</code>, <strong><code>models</code></strong>:<code>Optional[Models]</code>=<em><code>None</code></em>, <strong><code>settings</code></strong>:<code>Optional[Settings]</code>=<em><code>None</code></em>, <strong><code>default_models</code></strong>=<em><code>None</code></em>)-&gt;<code>Tuple[Netlist, Models]</code></p>
</blockquote>
<p>Create a <a href="/sax/typing.html#Netlist"><code>Netlist</code></a> and <a href="/sax/typing.html#Models"><code>Models</code></a> dictionary</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>Example</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sax.models</span> <span class="kn">import</span> <span class="n">straight</span><span class="p">,</span> <span class="n">coupler</span>
<span class="n">mzi_netlist</span><span class="p">,</span> <span class="n">models</span> <span class="o">=</span> <span class="n">netlist</span><span class="p">(</span>
    <span class="n">instances</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;lft&quot;</span><span class="p">:</span> <span class="s2">&quot;mmi1x2&quot;</span><span class="p">,</span>  <span class="c1"># shorthand if no settings need to be given</span>
        <span class="s2">&quot;top&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># full instance definition</span>
            <span class="s2">&quot;component&quot;</span><span class="p">:</span> <span class="s2">&quot;waveguide&quot;</span><span class="p">,</span>
            <span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">},</span>
        <span class="s2">&quot;rgt&quot;</span><span class="p">:</span> <span class="s2">&quot;mmi2x2&quot;</span><span class="p">,</span>  <span class="c1"># shorthand if no settings need to be given</span>
    <span class="p">},</span>
    <span class="n">connections</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;lft,out0&quot;</span><span class="p">:</span> <span class="s2">&quot;top,in0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;top,out0&quot;</span><span class="p">:</span> <span class="s2">&quot;rgt,in0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;top,out1&quot;</span><span class="p">:</span> <span class="s2">&quot;rgt,in1&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">ports</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;in0&quot;</span><span class="p">:</span> <span class="s2">&quot;lft,in0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;out0&quot;</span><span class="p">:</span> <span class="s2">&quot;rgt,out0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;out1&quot;</span><span class="p">:</span> <span class="s2">&quot;rgt,out1&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">models</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;mmi1x2&quot;</span><span class="p">:</span> <span class="n">coupler</span><span class="p">,</span>
        <span class="s2">&quot;mmi2x2&quot;</span><span class="p">:</span> <span class="n">coupler</span><span class="p">,</span>
        <span class="s2">&quot;waveguide&quot;</span><span class="p">:</span> <span class="n">straight</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="netlist_from_yaml" class="doc_header"><code>netlist_from_yaml</code><a href="https://github.com/flaport/sax/tree/master/sax/netlist.py#L423" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>netlist_from_yaml</code>(<strong><code>yaml</code></strong>:<code>str</code>, <strong><code>models</code></strong>:<code>Optional[Models]</code>=<em><code>None</code></em>, <strong><code>settings</code></strong>:<code>Optional[Settings]</code>=<em><code>None</code></em>, <strong><code>default_models</code></strong>=<em><code>None</code></em>)-&gt;<code>Tuple[Netlist, Models]</code></p>
</blockquote>
<p>Load a sax <a href="/sax/typing.html#Netlist"><code>Netlist</code></a> from yaml definition and a <a href="/sax/typing.html#Models"><code>Models</code></a> dictionary</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p>Example</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sax.models</span> <span class="kn">import</span> <span class="n">straight</span><span class="p">,</span> <span class="n">coupler</span>

<span class="n">mzi_netlist_from_yaml</span><span class="p">,</span> <span class="n">models</span> <span class="o">=</span> <span class="n">netlist_from_yaml</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">instances:</span>
<span class="s2">    &quot;lft&quot;: &quot;mmi1x2&quot;</span>
<span class="s2">    &quot;top&quot;: </span>
<span class="s2">        &quot;component&quot;: &quot;waveguide&quot;</span>
<span class="s2">        &quot;settings&quot;: </span>
<span class="s2">            &quot;length&quot;: 100.0</span>
<span class="s2">    &quot;rgt&quot;: &quot;mmi2x2&quot;</span>
<span class="s2">connections:</span>
<span class="s2">    &quot;lft,out0&quot;: &quot;top,in0&quot;</span>
<span class="s2">    &quot;top,out0&quot;: &quot;rgt,in0&quot;</span>
<span class="s2">    &quot;top,out1&quot;: &quot;rgt,in1&quot;</span>
<span class="s2">ports:</span>
<span class="s2">    &quot;in0&quot;: &quot;lft,in0&quot;</span>
<span class="s2">    &quot;out0&quot;: &quot;rgt,out0&quot;</span>
<span class="s2">    &quot;out1&quot;: &quot;rgt,out1&quot;</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">,</span> 
<span class="n">models</span><span class="o">=</span><span class="n">models</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">assert</span> <span class="n">mzi_netlist_from_yaml</span> <span class="o">==</span> <span class="n">mzi_netlist</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="logical_netlist" class="doc_header"><code>logical_netlist</code><a href="https://github.com/flaport/sax/tree/master/sax/netlist.py#L504" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>logical_netlist</code>(<strong><code>instances</code></strong>:<a href="/sax/typing.html#Instances"><code>Instances</code></a>, <strong><code>connections</code></strong>:<code>Dict[str, str]</code>, <strong><code>ports</code></strong>:<code>Dict[str, str]</code>, <strong><code>models</code></strong>:<code>Optional[Models]</code>=<em><code>None</code></em>, <strong><code>settings</code></strong>:<code>Optional[Settings]</code>=<em><code>None</code></em>, <strong><code>default_models</code></strong>=<em><code>None</code></em>)-&gt;<code>Tuple[LogicalNetlist, Settings, Models]</code></p>
</blockquote>
<p>Create a <a href="/sax/typing.html#LogicalNetlist"><code>LogicalNetlist</code></a> with separated <a href="/sax/typing.html#Settings"><code>Settings</code></a> and <a href="/sax/typing.html#Models"><code>Models</code></a> dictionary</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mzi_logical_netlist</span><span class="p">,</span> <span class="n">mzi_settings</span><span class="p">,</span> <span class="n">models</span> <span class="o">=</span> <span class="n">logical_netlist</span><span class="p">(</span>
    <span class="n">instances</span><span class="o">=</span><span class="n">mzi_netlist</span><span class="p">[</span><span class="s2">&quot;instances&quot;</span><span class="p">],</span>
    <span class="n">connections</span><span class="o">=</span><span class="n">mzi_netlist</span><span class="p">[</span><span class="s2">&quot;connections&quot;</span><span class="p">],</span>
    <span class="n">ports</span><span class="o">=</span><span class="n">mzi_netlist</span><span class="p">[</span><span class="s2">&quot;ports&quot;</span><span class="p">],</span>
    <span class="n">models</span><span class="o">=</span><span class="n">models</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">assert</span> <span class="n">mzi_logical_netlist</span> <span class="o">==</span> <span class="p">{</span>
    <span class="s2">&quot;instances&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;lft&quot;</span><span class="p">:</span> <span class="s2">&quot;mmi1x2&quot;</span><span class="p">,</span> <span class="s2">&quot;rgt&quot;</span><span class="p">:</span> <span class="s2">&quot;mmi2x2&quot;</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="p">:</span> <span class="s2">&quot;waveguide&quot;</span><span class="p">},</span>
    <span class="s2">&quot;connections&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;lft,out0&quot;</span><span class="p">:</span> <span class="s2">&quot;top,in0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rgt,in0&quot;</span><span class="p">:</span> <span class="s2">&quot;top,out0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rgt,in1&quot;</span><span class="p">:</span> <span class="s2">&quot;top,out1&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;ports&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;in0&quot;</span><span class="p">:</span> <span class="s2">&quot;lft,in0&quot;</span><span class="p">,</span> <span class="s2">&quot;out0&quot;</span><span class="p">:</span> <span class="s2">&quot;rgt,out0&quot;</span><span class="p">,</span> <span class="s2">&quot;out1&quot;</span><span class="p">:</span> <span class="s2">&quot;rgt,out1&quot;</span><span class="p">},</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

